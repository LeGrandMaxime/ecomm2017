{% extends ":layout:layoutbase.html.twig" %}


{% block body %}
{{ parent() }}

{% for message in app.flashes('notice') %}
    <div class="flash-notice">
        {{ message }}
    </div>
{% endfor %}

<!-- Page Content -->
<div class="container">

  <div class="row">

    <div class="col-lg-3">

      <h1 class="my-4">Shop Categories</h1>
      <div class="list-group">
        {% for categorytab in categories %}
        <a href="{{ path('category', {'slug' : categorytab.slug}) }}"
        {% if category is defined and category==categorytab %}
        class="list-group-item active"
        {% else %}
        class="list-group-item"
        {% endif %}

        >{{ categorytab.name }}</a>
        {% endfor %}
      </div>

    </div>
    <!-- /.col-lg-3 -->

    <div class="col-lg-9">

      <div class="row">

        {% for produit in listProduct %}
        <div class="col-lg-4 col-md-6 mb-4">
            <a href="{{ path('consultation_produit',{'id':produit.id }) }}">
              <div class="card h-100">
              {% set firstimg = produit.medias|first %}
              {% if firstimg %}
              <img class="card-img-top " src="{{firstimg.url}}" alt="{{firstimg.alt}}">
              {% endif %}
                <div class="card-body">
                  <h4 class="card-title">
                    {{ produit.nom }}
                  </h4>
                  <p class="card-price">
                    {{ produit.prix }}
                  </p>
                </div>
              </div>
            </a>
        </div>

        {% else %}
        <p>Pas (encore !) d'annonces</p>
        {% endfor %}


      </div>
      <!-- /.row -->

    </div>
    <!-- /.col-lg-9 -->

  </div>
  <!-- /.row -->

</div>
<!-- /.container -->
{% endblock %}
